## 策略模式

- 问题描述

  大鸟给小菜出了个作业，要求实现一个商场收银软件程序，营业员可以通过输入客户所有购买商品的单价和数量，程序自动计算出总金额。同时，商场有时会有打折活动（如商品打7折），或满减促销活动（如商品满300-100），程序应能考虑这些活动的情形，在尽量减少重复代码的前提下，实现正确的金额计算。

- 问题分析

  由于商场会经常性地更改打折方式和促销活动，如打7折，打8折，满300-100，满700-200等，这些促销活动逻辑类似，而且随时可以相互替换，恰符合`策略模式`的应用场景。

- 模式定义

  `策略模式（Strategy Pattern）`是指定义一个算法家族，使得家族内的不同算法都遵从算法家族的接口及方法规范，从而可以实现算法间互相替换，且不会影响到使用算法的客户。

- 模式实现

  1.首先创建抽象的算法类`CashSupur`,作为所有促销活动算法的抽象类，同时定义所有支持算法的公共接口，定义方法acceptCash()用于得到结果

  2.创建具体的促销算法类`CashNormal`, `CashRebate`,继承于抽象算法类`CashSupur`,覆写`acceptCash()`实现具体的促销算法；

  3.创建上下文类`CashContext`，维护对算法对象的引用，使用时根据用户输入，传入一个具体的促销算法类来配置。